<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Committees</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link href="css/ratchet.min.css" rel="stylesheet">
    <script src="js/ratchet.min.js"></script>
  </head>
  <body>
    <header class="bar bar-nav">
      <h1 class="title">Committees</h1>
    </header>
    <nav class="bar bar-tab">
      <a class="tab-item" href="index.html" data-transition="fade">
        <span class="icon icon-home"></span>
        <span class="tab-label">Home</span>
      </a>
      <a class="tab-item" href="#">
        <span class="icon icon-person"></span>
        <span class="tab-label">News</span>
      </a>
      <a class="tab-item active" href="#">
        <span class="icon icon-star-filled"></span>
        <span class="tab-label">Committees</span>
      </a>
      <a class="tab-item" href="#">
        <span class="icon icon-search"></span>
        <span class="tab-label">Search</span>
      </a>
      <a class="tab-item" href="settings.html" data-transition="fade">
        <span class="icon icon-gear"></span>
        <span class="tab-label">Settings</span>
      </a>
    </nav>

    <div class="content">
      <ul class="table-view" id="committees">
        <li class="table-view-cell media">
          <a class="navigate-right">
            <img class="media-object pull-left" src="http://placehold.it/42x42">
            <div class="media-body">
              Item 1
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore. Lorem ipsum dolor sit amet.</p>
            </div>
          </a>
        </li>
        <li class="table-view-cell media">
          <a class="navigate-right">
            <img class="media-object pull-left" src="http://placehold.it/42x42">
            <div class="media-body">
              Item 1
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore. Lorem ipsum dolor sit amet.</p>
            </div>
          </a>
        </li>
        <li class="table-view-cell media">
          <a class="navigate-right">
            <img class="media-object pull-left" src="http://placehold.it/42x42">
            <div class="media-body">
              Item 1
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore. Lorem ipsum dolor sit amet.</p>
            </div>
          </a>
        </li>
      </ul>
    </div>
    <script src="js/jquery.min.js"></script>
    <script>
      function httpGet(theUrl){
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open( "GET", theUrl, false );
        xmlHttp.send( null );
        return xmlHttp.responseText;
      }
      var committeeData = JSON.parse(httpGet("http://matthewwang.me/omun/api/committees.json"));
      console.log(committeeData);
      for (var key in committeeData){
        $("#committees").append('<li class="table-view-cell media"><a class="navigate-right"><img class="media-object pull-left" src="' + committeeData[key]["image"] + '"><div class="media-body">' + committeeData[key]["name"] + '<p>' + committeeData[key]["shortbio"] + '</p></div></a></li>');
        /*
        <li class="table-view-cell media">
          <a class="navigate-right">
            <img class="media-object pull-left" src="' + committeeData[key]["image"] + '">
            <div class="media-body">
              ' + committeeData[key]["name"] + '
              <p>' + committeeData[key]["shortbio"] + '</p>
            </div>
          </a>
        </li>
        */
      }

    </script>
  </body>
</html>
